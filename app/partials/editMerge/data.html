<expandable-section class="asset-section" ng-if="merge.plugins.length">
    <title>Plugin Data Folders ({{merge.plugins.length}})</title>
    <content>
        <div class="data-folder-item" ng-repeat="plugin in merge.plugins">
            <span class="input-label" title="{{::plugin.filename}}">{{::plugin.filename}}</span>
            <input type="text" ng-model="plugin.dataFolder" ng-blur="setDataFolder(plugin)" />
            <span class="browse-button" ng-click="browseDataFolder(plugin)" title="Browse"></span>
        </div>
    </content>
</expandable-section>

<expandable-section class="asset-section" ng-if="merge.plugins.length">
    <title>Bethesda Archives</title>
    <content>
        <label>
            <input type="checkbox" ng-model="merge.buildMergedArchive" />
            Build Merged Archive
        </label>

        <label ng-hide="merge.buildMergedArchive">
            Archive Action
            <select ng-model="merge.archiveAction">
                <option>Extract</option>
                <option>Copy</option>
                <option>Ignore</option>
            </select>
        </label>

        <expandable-section class="assets-list-section" ng-repeat="entry in merge.archives">
            <title>{{::entry.filename}} ({{::entry.assets.length}} assets)</title>
            <content>
                <div class="assets-list" vs-repeat>
                    <div ng-repeat="asset in entry.assets">
                        {{::asset}}
                    </div>
                </div>
            </content>
        </expandable-section>
    </content>
</expandable-section>

<div ng-show="noAssets" class="content-message">
    No data files were found for this merge.
</div>

<expandable-section class="asset-section" ng-if="merge.faceData.length">
    <title>NPC Face Data</title>
    <content>
        <label>
            <input type="checkbox" ng-model="merge.handleFaceData"/>
            Handle NPC Face Data
        </label>

        <expandable-section class="assets-list-section" ng-repeat="entry in merge.faceData">
            <title>{{::entry.plugin}} ({{::entry.assets.length}} assets)</title>
            <content>
                <div class="assets-list" vs-repeat>
                    <div ng-repeat="asset in entry.assets" title="{{::asset.npc}}">
                        {{::asset.filePath}}
                    </div>
                </div>
            </content>
        </expandable-section>
    </content>
</expandable-section>

<expandable-section class="asset-section" ng-if="merge.voiceData.length">
    <title>NPC Voice Data</title>
    <content>
        <label>
            <input type="checkbox" ng-model="merge.handleVoiceData"/>
            Handle NPC Voice Data
        </label>

        <expandable-section class="assets-list-section" ng-repeat="entry in merge.voiceData">
            <title>{{::entry.plugin}} ({{::entry.assets.length}} assets)</title>
            <content>
                <div class="assets-list" vs-repeat>
                    <div ng-repeat="asset in entry.assets" title="{{::asset.dialogue}}">
                        {{::asset.filePath}}
                    </div>
                </div>
            </content>
        </expandable-section>
    </content>
</expandable-section>

<expandable-section class="asset-section" ng-if="merge.billboards.length">
    <title>LOD Billboards</title>
    <content>
        <label>
            <input type="checkbox" ng-model="merge.handleBillboards"/>
            Handle LOD Billboards
        </label>

        <expandable-section class="assets-list-section" ng-repeat="entry in merge.billboards">
            <title>{{::entry.plugin}} ({{::entry.assets.length}} assets)</title>
            <content>
                <div class="assets-list" vs-repeat>
                    <div ng-repeat="asset in entry.assets">
                        {{::asset.filePath}}
                    </div>
                </div>
            </content>
        </expandable-section>
    </content>
</expandable-section>

<expandable-section class="asset-section" ng-if="merge.stringFiles.length">
    <title>String Files ({{merge.stringFiles.length}})</title>
    <content>
        <label ng-if="false">
            <input type="checkbox" ng-model="merge.handleStringFiles"/>
            Handle String Files
        </label>

        <div class="table-container">
            <table class="files-table">
                <thead>
                <tr>
                    <th>Plugin</th>
                    <th>File</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="file in merge.stringFiles">
                    <td>{{::file.plugin}}</td>
                    <td>{{::file.filePath}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </content>
</expandable-section>

<expandable-section class="asset-section" ng-if="merge.translations.length">
    <title>MCM Translations</title>
    <content>
        <label>
            <input type="checkbox" ng-model="merge.handleTranslations"/>
            Handle MCM Translations
        </label>

        <expandable-section class="assets-list-section" ng-repeat="entry in merge.translations">
            <title>{{::entry.plugin}} ({{::entry.assets.length}} assets)</title>
            <content>
                <div class="assets-list" vs-repeat>
                    <div ng-repeat="asset in entry.assets">
                        {{::asset.filePath}}
                    </div>
                </div>
            </content>
        </expandable-section>
    </content>
</expandable-section>

<expandable-section class="asset-section" ng-if="merge.iniFiles.length">
    <title>INI Files ({{merge.iniFiles.length}})</title>
    <content>
        <label>
            <input type="checkbox" ng-model="merge.handleIniFiles"/>
            Handle INI Files
        </label>

        <section>
            <div class="assets-list">
                <div ng-repeat="file in merge.iniFiles">{{::file.filePath}}</div>
            </div>
        </section>
    </content>
</expandable-section>

<expandable-section class="asset-section" ng-if="merge.dialogViews.length">
    <title>Dialog Views ({{merge.dialogViews.length}})</title>
    <content>
        <label>
            <input type="checkbox" ng-model="merge.handleDialogViews"/>
            Handle Dialog Views
        </label>

        <expandable-section class="assets-list-section" ng-repeat="entry in merge.dialogViews">
            <title>{{::entry.plugin}} ({{::entry.assets.length}} assets)</title>
            <content>
                <div class="assets-list" vs-repeat>
                    <div ng-repeat="asset in entry.assets">
                        {{::asset.filePath}}
                    </div>
                </div>
            </content>
        </expandable-section>
    </content>
</expandable-section>

<expandable-section class="asset-section" ng-if="merge.generalAssets.length">
    <title>General Assets</title>
    <content>
        <label>
            <input type="checkbox" ng-model="merge.copyGeneralAssets"/>
            Copy General Assets
        </label>

        <expandable-section class="assets-list-section" ng-repeat="entry in merge.generalAssets">
            <title>{{::entry.folder}} ({{::entry.assets.length}} assets)</title>
            <content>
                <div class="assets-list" vs-repeat>
                    <div ng-repeat="asset in entry.assets">{{::asset.filePath}}</div>
                </div>
            </content>
        </expandable-section>
    </content>
</expandable-section>
