<input type="text" ng-model="str" ng-class="{'invalid' : invalid}" ng-change="updateModel()" ng-blur="onInputBlur()"/>