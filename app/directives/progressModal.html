<div class="modal-container" ng-click="unfocusModal($event)">
    <div class="modal">
        <div class="close-modal" ng-if="progress.canClose" ng-click="$emit('closeModal')"></div>

        <div class="progress-title">{{progress.title}}</div>

        <div class="progress-message">{{progress.message}}</div>
        <progress-bar progress="progress"></progress-bar>

        <div ng-click="toggleExpanded()">
            <span class="expander {{expanded ? 'expanded' : 'collapsed'}}"></span>
            {{expanded ? 'Hide' : 'Show'}} Log
        </div>
        <div ng-if="expanded" class="log" scroll-glue>
            <div ng-repeat="message in progress.log" class="{{::message.class}}-message">{{::message.text}}</div>
        </div>
    </div>
</div>
